(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=[].slice,o=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};window.isBool=function(a){return a===!0||a===!1},window.isEmpty=function(a){return!a||0===a.length},window.isBlank=function(a){return!a||/^\s*$/.test(a)},window.isNull=function(a){try{if((isEmpty(a)||isBlank(a)||null==a)&&a!==!1&&0!==a)return!0}catch(a){}return!1},window.isJson=function(a){if("object"==typeof a)return!0;try{return JSON.parse(a),!0}catch(a){}return!1},window.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},window.toFloat=function(a){return!isNumber(a)||isNull(a)?0:parseFloat(a)},window.toInt=function(a){return!isNumber(a)||isNull(a)?0:parseInt(a)},String.prototype.levenshtein=function(a){var b,c,d=this,e=a+"",f=[],g=Math.min;if(!d||!e)return(e||d).length;for(b=0;b<=e.length;f[b]=[b++]);for(c=0;c<=d.length;f[0][c]=c++);for(b=1;b<=e.length;b++)for(c=1;c<=d.length;c++)f[b][c]=e.charAt(b-1)==d.charAt(c-1)?f[b-1][c-1]:f[b][c]=g(f[b-1][c-1]+1,g(f[b][c-1]+1,f[b-1][c]+1));return f[e.length][d.length]},Array.closest=function(a,b){return a.sort(function(a,c){var d,e;return d=a.search(b)>=0?0:a.levenshtein(b),e=c.search(b)>=0?0:c.levenshtein(b),0===d&&0===e&&(d=a.levenshtein(b),e=c.levenshtein(b)),d-e})},String.prototype.toBool=function(){return""+this=="true"},Boolean.prototype.toBool=function(){return""+this=="true"},Object.size=function(a){var b,c;c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},window.delay=function(a,b){return setTimeout(b,a)},window.roundNumber=function(a,b){var c;return null==b&&(b=0),c=Math.pow(10,b),Math.round(a*c)/c},jQuery.fn.exists=function(){return jQuery(this).length>0},window.byteCount=function(a){return function(a){return encodeURI(a).split(/%..|./).length-1}}(this),window.debounce_timer=null,window.debounce=function(a,b,c){return null==b&&(b=300),null==c&&(c=!1),function(){var d,e,f;return d=1<=arguments.length?n.call(arguments,0):[],f=this,e=function(){if(!c)return a.apply(f,d)},null!=window.debounce_timer?clearTimeout(window.debounce_timer):c&&a.apply(f,d),window.debounce_timer=setTimeout(e,b)}},Function.prototype.getName=function(){var a;return a=this.name,null==a&&(a=(""+this).substr(0,(""+this).indexOf("(")).replace("function ","")),isNull(a)&&(a=md5(""+this)),a},Function.prototype.debounce=function(){var a,b,c,d,e,f,g,h,i;h=arguments[0],d=arguments[1],i=arguments[2],a=4<=arguments.length?n.call(arguments,3):[],null==h&&(h=300),null==d&&(d=!1),null==i&&(i=window.debounce_timer),null==(null!=(g=window.core)?g.debouncers:void 0)&&(null==window.core&&(window.core={}),core.debouncers={});try{f=this.getName()}catch(a){}try{null!=core.debouncers[f]&&(i=core.debouncers[f])}catch(a){}if(e=this,b=function(){return null!=f&&(clearTimeout(i),delete core.debouncers[f]),d||e.apply(e,a),console.info("Debounce applied")},null!=i)try{clearTimeout(i)}catch(a){c=a}return d?(e.apply(obj,a),console.log("Executed "+f+" immediately"),!1):null!=f?(console.log("Debouncing '"+f+"' for "+h+" ms"),core.debouncers[f]=delay(h,function(){return b()})):(console.log("Delaying '"+f+"' for "+h+" ms"),window.debounce_timer=delay(h,function(){return b()}))},window.mapNewWindows=function(){return $(".newwindow").each(function(){var a,b;return a=$(this).attr("href"),b=function(a){return null!=a&&(window.open(a),!1)},$(this).click(function(){return b(a)}),$(this).keypress(function(){return b(a)})})},window.toastStatusMessage=function(a,b,c,d){var e;return null==b&&(b="error"),null==c&&(c=3e3),null==d&&(d="#status-message"),isNumber(c)||(c=3e3),d.slice(0,1)===!1&&(d="#"+d),$(d).exists()||(e='<paper-toast id="'+d.slice(1)+'" duration="'+c+'"></paper-toast>',$(e).appendTo("body")),$(d).attr("text",a),$(d).addClass(b),$(d)[0].show(),delay(c+500,function(){return $(d).empty(),$(d).removeClass(b),$(d).attr("text","")})},window.animateLoad=function(a,b){var c,d,e,f,g,h,i,j;null==a&&(a=50),null==b&&(b="#status-container"),"#"!==b.slice(0,1)&&(b="#"+b);try{return $(b).exists()||(f=b.slice(1),e="<div id='status-container'> <div class='ball stop hide'></div><div class='ball1 stop hide'></div> <br/><p id='status-message'></p> </div>",$(e).appendTo("body")),!!$(b).exists()&&(i=roundNumber(.5*a),c=$(b).find(".ball"),j=$(b).find(".ball1"),c.removeClass("stop hide"),c.css({width:a+"px",height:a+"px"}),g=roundNumber(a/2+i/2+9),h=roundNumber((a+10)/2-(i+6)/2),j.removeClass("stop hide"),j.css({width:i+"px",height:i+"px",top:"-"+g+"px","margin-left":h+"px"}),!0)}catch(a){return d=a,console.error("Could not animate loader",d.message)}},window.stopLoad=function(a,b){var c,d,e;null==a&&(a="#status-container"),null==b&&(b=500),"#"!==a.slice(0,1)&&(a="#"+a);try{if($(a).exists())return c=$(a).find(".ball"),e=$(a).find(".ball1"),c.addClass("bballgood ballgood"),e.addClass("bballgood ball1good"),delay(b,function(){return c.addClass("stop hide"),c.removeClass("bballgood ballgood"),e.addClass("stop hide"),e.removeClass("bballgood ball1good")})}catch(a){return d=a,console.error("Could not stop load animation",d.message)}},window.stopLoadError=function(a,b,c){var d,e,f;null==b&&(b="#status-container"),null==c&&(c=1500),"#"!==b.slice(0,1)&&(b="#"+b);try{if($(b).exists()&&(d=$(b).find(".ball"),f=$(b).find(".ball1"),d.addClass("bballerror ballerror"),f.addClass("bballerror ball1error"),delay(c,function(){return d.addClass("stop hide"),d.removeClass("bballerror ballerror"),f.addClass("stop hide"),f.removeClass("bballerror ball1error")}),null!=a))return toastStatusMessage(a)}catch(a){return e=a,console.error("Could not stop load error animation",e.message)}},window.openLink=function(a){return null!=a&&(window.open(a),!1)},window.openTab=function(a){return openLink(a)},window.goTo=function(a){return null!=a&&(window.location.href=a,!1)},window.loadJS=function(a,b,c){var d,e,f,g;if(null==b&&(b={}),null==c&&(c=!0),$("script[src='"+a+"']").exists()){if("function"==typeof b)try{b()}catch(a){d=a,console.error("Script is already loaded, but there was an error executing the callback function - "+d.message)}return!0}return g=document.createElement("script"),g.setAttribute("src",a),g.setAttribute("async","async"),g.setAttribute("type","text/javascript"),g.src=a,g.async=!0,f=function(){var c;c=g.readyState;try{if(!b.done&&(!c||/loaded|complete/.test(c))&&(b.done=!0,"function"==typeof b))try{return b()}catch(b){return d=b,console.error("Postload callback error for "+a+" - "+d.message),console.warn(d.stack)}}catch(a){return d=a,console.error("Onload error - "+d.message)}},e=function(){console.warn("There may have been a problem loading "+a);try{if(!b.done&&(b.done=!0,"function"==typeof b&&c))try{return b()}catch(a){return d=a,console.error("Post error callback error - "+d.message)}}catch(a){return d=a,console.error("There was an error in the error handler! "+d.message)}},g.setAttribute("onload",f),g.setAttribute("onreadystate",f),g.setAttribute("onerror",e),g.onload=g.onreadystate=f,g.onerror=e,document.getElementsByTagName("head")[0].appendChild(g),!0},c=function(a){var b;try{if(!$("html /deep/ "+a).exists())throw"Bad /deep/ selector";return $("html /deep/ "+a)}catch(c){b=c;try{if(!$("html >>> "+a).exists())throw"Bad >>> selector";return $("html >>> "+a)}catch(c){return b=c,$(a)}}},l=function(a){try{return $$(a)[0]}catch(b){return $(a).get(0)}},window.d$=function(a){return c(a)},$(function(){var a;try{window.picturefill()}catch(b){a=b,console.log("Could not execute picturefill.")}return mapNewWindows()}),m=function(a){var b,c,d,e,f,g,h,i;for(null==a&&(a=window.currentPagePath),c=0,f=$("nav paper-tabs paper-tab"),d=0,e=f.length;d<e;d++){h=f[d],console.log("Tab iteration");try{if(i=null!=(g=$(h).attr("data-label"))?g:"NO_LABEL",console.log("Search "+a+" for "+i,a.search(i)),a.search(i)!==-1){console.info("We're in collection "+i),l("nav paper-tabs").selected=c;break}}catch(a){b=a,console.warn("Couldn't check - "+b.message)}++c}return!1},window.tabSelect=m,h=function(){return!1},g=function(c){var d;return null==c&&(c="#content a"),d={onStart:function(){return k()},onEnd:function(){return j(),a()},onLoadStart:function(){return b()},onLoadEnd:function(){return a()},allowedTypes:"png|jpg|jpeg|gif"},$(c).imageLightbox(d)},b=function(){return $('<div id="imagelightbox-loading"><div></div></div>').appendTo("body")},a=function(){return $("#imagelightbox-loading").remove()},k=function(){return $('<div id="imagelightbox-overlay"></div>').appendTo("body")},j=function(){return $("#imagelightbox-overlay").remove()},e=function(a){return null==a&&(a=".sciname"),$(".sciname").each(function(){var a;return a="italic"===$(this).css("font-style")?"normal":"italic",$(this).css("font-style",a)})},i=function(){return $("a").each(function(){var a;return a=$(this).attr("href")}),!1},"undefined"!=typeof _arctos&&null!==_arctos||(window._arctos={}),f=function(a){var b,c,d,e;null==a&&(a=!1),d=Date.now(),c=$("#search-input").val(),isNull(c)&&$("#results-container").html("");try{loadJS("https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js")}catch(a){}return b=function(){var a,b,e,f;return $("#results-container").exists()||(console.warn("The results container was not properly set up. Manually appending."),e='<ul id="results-container"></ul>',$("#search-container").append(e)),isNull(c)?($("#results-container").html(""),b=Date.now()-d,console.log("Blank search container"),!1):($("#search-input-dummy").val(c).attr("value",c),f={searchInput:document.getElementById("search-input"),resultsContainer:document.getElementById("results-container"),json:_arctos.searchObject,searchResultTemplate:"<li><a href='{url}'>{title}</a></li>",fuzzy:!1,noResultsText:"<strong><em>Sorry, no results found matching '"+c+"'</em></strong>",limit:25},_arctos.searchConfig=f,SimpleJekyllSearch(f),(a=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,p,q,r;for(i=$("#results-container li"),q=[],j={},n=[],c=0,e=i.length;c<e;c++)h=i[c],r=$(h).find("a").attr("href"),m=$(h).find("a").text(),p={title:m,href:r},o.call(q,r)>=0?$(h).remove():(q.push(r),j[m.toLowerCase()]=p,n.push(m.toLowerCase()));_arctos.searchResult={titles:n,smart:j,unique:q},console.log("Found "+q.length+" unique URLs matching the search",q);try{for(k=$("#search-input").val().toLowerCase(),console.log("Attempting to sort by "+k),Array.closest(n,k),g="",b=0,d=0,f=n.length;d<f;d++)if(m=n[d],l=j[m],g+='<li><a href="'+l.href+'">'+l.title+"</a></li>",++b,b>q.length+1){console.warn("Loop detected!");break}$("#results-container").html(g)}catch(b){a=b,console.warn("Unable to sort results -- "+a.message),console.warn(a.stack)}return q})(),delay(100,function(){return a.debounce(300)}),b=Date.now()-d,console.log("Search completed in "+b+"ms"))},isNull(_arctos.searchObject)?(e="http://handbook.arctosdb.org/search.json",$.getJSON(e).done(function(c){var e,g,h,i,j,k,l,m;for(console.info("Search pinged back result",c),_arctos.searchObject=[],_arctos.searchPageObject=[],j="",m=[],h=0,i=c.length;h<i;h++)l=c[h],k=l.url,o.call(m,k)>=0?console.info("Removing duplicate url '"+l.url+"'"):(m.push(l.url),_arctos.searchObject.push(l),l.category===j&&_arctos.searchPageObject.push(l));return g=36e5,delay(g,function(){return console.info("Invalidating stale search result object"),delete _arctos.searchObject,f(!0),!1}),e=Date.now()-d,a&&(console.log("Search results prepped in "+e+"ms"),window.so=_arctos.searchObject),console.info("It took "+e+"ms to fetch the search items"),b()}).error(function(a,b){return console.error("Couldn't do search: "+b),console.warn(a),$("#results-container").html("<p>There was an error getting your search results. Please try again later.</p>")})):(a&&console.warn("Not doing prep -- we already have a search object"),console.log("Searching for '"+c+"' in the saved search object"),b()),!1},d=function(){var a,b,c;return window.hasSetupSizer||(console.debug("Running initial search height sizer ..."),$(window).resize(function(){return console.debug("Firing search height resizer on window resize"),d(),!1}),delay(250,function(){return d()})),b=function(){var a,b;return b=$("paper-tabs").outerHeight(!0),isNull(b)?b=200:$("paper-tabs.affix-top").exists()&&(b+=$("header div.wrapper:visible").outerHeight(!0)),a=b+"px",console.debug("Scroll offset "+a),$("nav#toc").css("top",a),$("nav#toc ul.nav").hasClass("hidden-xs")||$("nav#toc ul.nav").addClass("hidden-xs"),a},$(window).width()<=992?(a=$("nav#toc").outerHeight(!0),c=b(),$(window).scroll(b)):(a=0,c="200px",$(window).unbind("scroll",b)),$("div.nav-container").css("min-height",a),$("nav#toc").css("top",c),window.hasSetupSizer=!0,a},window.fixSearchHeight=d,$(function(){var a,b,c,e,h,i;for(m(),$("#searchsubmit").click(function(){return $("#sidebar-search-form").submit()}),$("#s").keyup(function(a){var b;if(b=a.keyCode||a.which,13===b)return $("#sidebar-search-form").submit()}),$("#sidebar-search-form").submit(function(a){var b,c;return a.preventDefault(),c=$("#sidebar-search-form").attr("action"),b=encodeURIComponent($("#s").val()),c=c+"?s="+b,goTo(c)}),$("#searchsubmit-arctos").click(function(){return $("#arctos-search-form").submit()}),$("#search-input").keyup(function(a){var b;return b=a.keyCode||a.which,f()}),$("#arctos-search-form").submit(function(a){var b,c;return a.preventDefault(),c=$("#arctos-search-form").attr("action"),b=encodeURIComponent($("#arctos-search").val()),c=c+"?scientific_name="+b,openLink(c)}),f(!0),g(),b=0,h=$("table"),c=0,e=h.length;c<e;c++)i=h[c],$(i).addClass("table table-condensed table-hover");if(0===b?console.log("No tables found"):console.debug("Added classes to "+b+" tables"),$("nav#toc").exists())return(a=function(){var b,c,e,f;try{return Polymer.RenderStatus.hasRendered()?($("nav#toc li").length>0||"undefined"!=typeof Toc&&null!==Toc&&(Toc.init($("#toc"),$("main article")),$("nav#toc li").length>0||($("nav#toc ul").remove(),console.info("Manually populating the TOC"),e=Toc.helpers.parseOps($("#toc")),e.$scope=$("main article"),e.$nav.attr("data-toggle","toc"),c=Toc.helpers.createChildNavList(e.$nav),f=Toc.helpers.getTopLevel(e.$scope),b=Toc.helpers.getHeadings(e.$scope,f),Toc.helpers.populateNav(c,f,b),$("nav#toc ul.nav").addClass("hidden-xs")),$("body").scrollspy({target:"#toc"})),d()):(console.warn("Waiting for Polymer.RenderStatus to report ready before building TOC"),delay(100,function(){return a()}))}catch(b){if("undefined"==typeof Polymer||null===Polymer)return delay(100,function(){return a()})}})()})}).call(this);
//# sourceMappingURL=maps/c.map